<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: radial-gradient(circle, #222, #000); color: white; text-align: center; font-family: 'Arial', sans-serif; height: 100vh; margin: 0; overflow: hidden; }
        .arena { height: 100%; display: flex; align-items: center; justify-content: center; position: relative; }
        .card { width: 140px; height: 200px; border: 3px solid gold; border-radius: 12px; position: absolute; box-shadow: 0 0 20px rgba(255,215,0,0.5); transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); background: #333; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        #p1 { left: -200px; transform: rotate(-10deg); }
        #p2 { right: -200px; transform: rotate(10deg); }
        .btn-fight { position: fixed; bottom: 30px; padding: 15px 40px; font-size: 18px; background: linear-gradient(to bottom, #ff4500, #ff8c00); border: none; border-radius: 50px; color: white; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .impact { animation: shake 0.2s 3; }
        @keyframes shake { 0% { transform: translate(5px, 5px); } 50% { transform: translate(-5px, -5px); } 100% { transform: translate(0, 0); } }
    </style>
</head>
<body>
    <div class="arena" id="arena">
        <div id="p1" class="card">PLAYER 1</div>
        <div id="p2" class="card">PLAYER 2</div>
        <button class="btn-fight" onclick="startBattle()">⚡ START CLASH ⚡</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();

        // Animation Entrance
        setTimeout(() => {
            document.getElementById('p1').style.left = '10%';
            document.getElementById('p2').style.right = '10%';
        }, 500);

        function startBattle() {
            const p1 = document.getElementById('p1');
            const p2 = document.getElementById('p2');
            const arena = document.getElementById('arena');

            // Collision
            p1.style.left = '35%';
            p2.style.right = '35%';

            setTimeout(() => {
                arena.classList.add('impact');
                p1.style.transform = 'scale(1.2) rotate(0deg)';
                p2.style.transform = 'scale(1.2) rotate(0deg)';
                
                // Vibrating effect (Haptic feedback)
                if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('heavy');

                setTimeout(() => {
                    alert("GAME OVER: IMPACT DETECTED!");
                    tg.close(); // Babalik sa bot
                }, 1000);
            }, 500);
        }
    </script>
</body>
</html>
